<html>
<head><title>HLSProvider/Chromeless sample page</title>
<meta content="text/html;charset=utf-8" http-equiv="Content-Type">
<meta content="utf-8" http-equiv="encoding">
<meta name="author" content="mangui">
<meta name="description" content="Chromeless HLS Flash Player">
<meta name="keywords" content="hls, m3u8, http live streaming, apple hls, plugin, h264, H.264, x264, aac, mp3, flash, flashplayer, flash player, video, audio, mbr, multibitrate, multi bitrate, chromeless, vod, video on demand, live, live stream, dvr, dvr stream, digital video recorder">
<style media="screen" type="text/css">
#media_control
{
    text-align:left;
}
#Play,#Pause,#Resume,#Stop,#Seek,#Volume,#Level
{
    display:inline;
}
.box
{
    border:1px solid black;
    background-color: #0F0;
}
</style>

</head>
<body>
<body style="color: Black; background-color: White;" link="Blue" vlink="Purple">
<big style="font-weight: bold;"><big><code>HLSProvider/Chromeless player</code></big></big><br>
<h3> Test Videos </h3>
<div> The following videos should stream correctly. Each time an
issue is reported with a sample playlist, it will be added in the list
and verified after bugfixing </div>
<ul id="streamlist">
</ul>


Check with your own Playlist ! <a href="http://kb2.adobe.com/cps/142/tn_14213.html">beware of Cross Domain Policy</a><br>
<input id="userInput" value="http://184.72.239.149/vod/smil:BigBuckBunny.smil/playlist.m3u8" size="80"> <button onclick="userSubmit()">Play</button><br>
<p>
  
<script type="text/javascript">
function userSubmit() {
   loadStream(document.getElementById('userInput').value);
}
</script>

</p><div style="text-align: left;">
<script type="text/javascript" src="../../../playlists/streams.js"></script>
<script type="text/javascript">
  

function listStreams(list, container) {
for(var i=0; i<list.length; i++) { var entry = document.createElement("li");
entry.innerHTML = "<a href='#' onclick='return loadStream(\""+list[i].file+"\")'>"+list[i].title+"</a>";
document.getElementById(container).appendChild(entry);
}
}

function loadStream(url) {
  play(url);
}
</script>

<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"
 codebase="" id="mymoviename" width="640" height="360">
<param name="movie"  value="HLSProviderChromeless.swf" />
<param name="quality" value="high" />
<param name="swliveconnect" value="true" />
<param name="allowScriptAccess" value="sameDomain" />
<param name="bgcolor" value="#0" />
<param name="allowFullScreen" value="true" />

<embed src="HLSProviderChromeless.swf" width="640" height="360" name="mymoviename"
            quality="high"
            bgcolor="#0"
            align="middle" allowFullScreen="true"
            allowScriptAccess="sameDomain"
            type="application/x-shockwave-flash"
            swliveconnect="true"
            pluginspage="http://www.macromedia.com/go/getflashplayer" >
</embed>
</object>


<script type="text/javascript">

function onHLSReady(message) {
    listStreams(teststreams,"streamlist");
    document.getElementById("videoStatus").innerHTML += "onHLSReady()<br />";
}


function play(url) {
  var obj = getFlashMovieObject("mymoviename");
  if(obj != null) {
    obj.play(url);
    document.getElementById("videoStatus").innerHTML += "start playback for " + url + "<br />";
  }
}

function pause() {
  var obj = getFlashMovieObject("mymoviename");
  if(obj != null) {
    obj.pause();
    document.getElementById("videoStatus").innerHTML += "pause playback<br />";
  }
}

function resume() {
  var obj = getFlashMovieObject("mymoviename");
  if(obj != null) {
    obj.resume();
    document.getElementById("videoStatus").innerHTML += "resume playback<br />";
  }
}

function stop() {
  var obj = getFlashMovieObject("mymoviename");
  if(obj != null) {
    obj.stop();
    document.getElementById("videoStatus").innerHTML += "stopping playback<br />";
  }
}

function setlevel(level) {
  var obj = getFlashMovieObject("mymoviename");
  if(obj != null) {
    obj.setLevel(level);
    document.getElementById("videoStatus").innerHTML += "force level to :" + level + "<br />";
  }
}

function seek(position) {
  var obj = getFlashMovieObject("mymoviename");
  if(obj != null) {
    obj.seek(position);
    document.getElementById("videoStatus").innerHTML += "seek to :"+ position + "<br />";
  }
}

function volume(percent) {
  var obj = getFlashMovieObject("mymoviename");
  if(obj != null) {
    obj.volume(percent);
    document.getElementById("videoStatus").innerHTML += "set volume to :"+ percent + "%<br />";
  }
}

function onComplete(message) {
  document.getElementById("videoStatus").innerHTML += "onComplete(), playback completed<br />";
}
function onError(message) {
  document.getElementById("videoStatus").innerHTML += "onError():"+ message + "<br />";
}

function onFragment(bandwidth,level,width) {
  document.getElementById("videoStatus").innerHTML += "onFragment(): bandwidth:" + bandwidth + " level:" + level + " width:" + width + "<br />";
}

function onManifest(message) {
  document.getElementById("videoStatus").innerHTML += "manifest loaded<br />";
}

function onPosition(position,duration) {
  document.forms['mediaTime'].mediaPosition.value = position;
  document.forms['mediaTime'].mediaDuration.value = duration;
}
function onState(message) {
  document.getElementById("videoStatus").innerHTML += "switching state to "+ message + "<br />";
}
function onSwitch(message) {
  document.getElementById("videoStatus").innerHTML += "switching level to "+ message + "<br />";
}

function getFlashMovieObject(movieName)
{
  if (window.document[movieName])
  {
      return window.document[movieName];
  }
  if (navigator.appName.indexOf("Microsoft Internet")==-1)
  {
    if (document.embeds && document.embeds[movieName])
      return document.embeds[movieName];
  }
  else // if (navigator.appName.indexOf("Microsoft Internet")!=-1)
  {
    return document.getElementById(movieName);
  }
}
</script>
<form name="mediaTime">
	media position <br />
	<textarea name="mediaPosition" rows="1"></textarea>
  <textarea name="mediaDuration" rows="1"></textarea>
</form>
<div id="media_control">
<div id="Play" class="box">Play</div>
<div id="Pause" class="box" onclick=pause()>Pause</div>
<div id="Resume" class="box" onclick=resume()>Resume</div>
<div id="Stop" class="box" onclick=stop()>Stop</div>
<div id="Seek" class=box" onclick=seek(document.forms['seekPos'].seekPosition.value)>Seek</div>
<div id="Volume" class=box" onclick=volume(document.forms['volLevel'].volumeLevel.value)>Volume</div>
<div id="Level" class=box" onclick=setlevel(document.forms['QualityLevel'].QualityLevel.value)>Level</div>
</div>

<form name="seekPos"> seek to	<textarea name="seekPosition" rows="1">0</textarea> </form>
<form name="volLevel"> set volume level to	<textarea name="volumeLevel" rows="1">100</textarea> </form>
<form name="QualityLevel"> force quality level to	<textarea name="QualityLevel" rows="1">-1</textarea> </form>
<div id="videoStatus">Video status messages<br /></div>
</body>
</html>