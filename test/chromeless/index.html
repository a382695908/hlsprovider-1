<html>
<head><title>HLSProvider/Chromeless sample page</title>
<meta content="text/html;charset=utf-8" http-equiv="Content-Type">
<meta content="utf-8" http-equiv="encoding">
<meta name="author" content="mangui">
<meta name="description" content="Chromeless HLS Flash Player">
<meta name="keywords" content="hls, m3u8, http live streaming, apple hls, plugin, h264, H.264, x264, aac, mp3, flash, flashplayer, flash player, video, audio, mbr, multibitrate, multi bitrate, chromeless, vod, video on demand, live, live stream, dvr, dvr stream, digital video recorder">
</head>
<body>
<body style="color: Black; background-color: White;" link="Blue" vlink="Purple">
<big style="font-weight: bold;"><big><code>HLSProvider/Chromeless player</code></big></big><br>

</p><div style="text-align: left;">


<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"
 codebase="" id="mymoviename" width="640" height="360">
<param name="movie"  value="HLSProviderChromeless.swf" />
<param name="quality" value="high" />
<param name="swliveconnect" value="true" />
<param name="allowScriptAccess" value="sameDomain" />
<param name="bgcolor" value="#0" />
<param name="allowFullScreen" value="true" />

<embed src="HLSProviderChromeless.swf" width="640" height="360" name="mymoviename"
            quality="high"
            bgcolor="#0"
            align="middle" allowFullScreen="true"
            allowScriptAccess="sameDomain"
            type="application/x-shockwave-flash"
            swliveconnect="true"
            pluginspage="http://www.macromedia.com/go/getflashplayer" >
</embed>
</object>

<table border id="mediaInfo" width="640">
<TR BGCOLOR="#0F0">
  <TD colspan="2" style="cursor:pointer" onclick=play(current_url)>Play</TD>
  <TD colspan="2" style="cursor:pointer" onclick=pause()>Pause</TD>
  <TD colspan="1" style="cursor:pointer" onclick=resume()>Resume</TD>
  <TD colspan="2" style="cursor:pointer" onclick=stop()>Stop</TD>
</TR>
<TR><TD>state</TD><TD>Position</TD><TD>Duration</TD><TD>Buffer Size</TD><TD>Max Buffer Size</TD><TD>Quality Level</TD></TR>
<TR><TD>IDLE</TD><TD>0</TD><TD>0</TD><TD>0</TD><TD>0</TD><TD>0</TD></TR>
</table>

<table border id="mediaControl">
<TR><TD BGCOLOR="#0F0" style="cursor:pointer" onclick=seek(document.getElementById('mediaControl').rows[0].cells[1].children[0].value)>Seek to</TD><TD><INPUT type=text name="seek_position"></TD></TR>
<TR><TD BGCOLOR="#0F0" style="cursor:pointer" onclick=volume(document.getElementById('mediaControl').rows[1].cells[1].children[0].value)>Set Volume</TD>	<TD><INPUT type=text name="volume_level">	</TD></TR>
<TR><TD BGCOLOR="#0F0" style="cursor:pointer" onclick=setlevel(document.getElementById('mediaControl').rows[2].cells[1].children[0].value)>Set Level</TD><TD><INPUT type=text name="quality_level">	</TD></TR>
<TR><TD BGCOLOR="#0F0" style="cursor:pointer" onclick=setmaxBufferLength(document.getElementById('mediaControl').rows[3].cells[1].children[0].value)>Set max Buffer Size</TD><TD><INPUT type=text name="max_buffer_size"></TD></TR>
</table>

<script type="text/javascript" src="../../../playlists/streams.js"></script>
<script type="text/javascript">
  
var current_url;

function loadStream(url) {
  current_url = url;
  play(url);
}

function listStreams(list, container) {
for(var i=0; i<list.length; i++) { var entry = document.createElement("li");
entry.innerHTML = "<a href='#' onclick='return loadStream(\""+list[i].file+"\")'>"+list[i].title+"</a>";
document.getElementById(container).appendChild(entry);
}
current_url=list[0].file;
}

</script>

<h3> Test Videos </h3>
Check with your own Playlist ! <a href="http://kb2.adobe.com/cps/142/tn_14213.html">beware of Cross Domain Policy</a><br>
<input id="userInput" value="http://184.72.239.149/vod/smil:BigBuckBunny.smil/playlist.m3u8" size="80"> <button onclick="userSubmit()">Play</button><br>
<p>
<div> The following videos should stream correctly. Each time an
issue is reported with a sample playlist, it will be added in the list
and verified after bugfixing </div>
<ul id="streamlist">
</ul>

  
<script type="text/javascript">
function userSubmit() {
   play(document.getElementById('userInput').value);
}
</script>

<script type="text/javascript">

function onHLSReady(message) {
    listStreams(teststreams,"streamlist");
    document.getElementById("videoStatus").innerHTML += "onHLSReady()<br />";
}


function play(url) {
  var obj = getFlashMovieObject("mymoviename");
  if(obj != null) {
    obj.play(url);
    document.getElementById("videoStatus").innerHTML += "start playback for " + url + "<br />";
  }
}

function pause() {
  var obj = getFlashMovieObject("mymoviename");
  if(obj != null) {
    obj.pause();
    document.getElementById("videoStatus").innerHTML += "pause playback<br />";
  }
}

function resume() {
  var obj = getFlashMovieObject("mymoviename");
  if(obj != null) {
    obj.resume();
    document.getElementById("videoStatus").innerHTML += "resume playback<br />";
  }
}

function stop() {
  var obj = getFlashMovieObject("mymoviename");
  if(obj != null) {
    obj.stop();
    document.getElementById("videoStatus").innerHTML += "stopping playback<br />";
  }
}

function setlevel(level) {
  var obj = getFlashMovieObject("mymoviename");
  if(obj != null) {
    obj.setLevel(level);
    document.getElementById("videoStatus").innerHTML += "force level to :" + level + "<br />";
  }
}

function seek(position) {
  var obj = getFlashMovieObject("mymoviename");
  if(obj != null) {
    obj.seek(position);
    document.getElementById("videoStatus").innerHTML += "seek to :"+ position + "<br />";
  }
}

function volume(percent) {
  var obj = getFlashMovieObject("mymoviename");
  if(obj != null) {
    obj.volume(percent);
    document.getElementById("videoStatus").innerHTML += "set volume to :"+ percent + "%<br />";
  }
}

function getbufferLength() {
  var obj = getFlashMovieObject("mymoviename");
  if(obj != null) {
    return obj.getbufferLength();
  }
}

function getMaxBufferLength() {
  var obj = getFlashMovieObject("mymoviename");
  if(obj != null) {
    return obj.getmaxBufferLength();
  }
}

function setmaxBufferLength(new_len) {
  var obj = getFlashMovieObject("mymoviename");
  if(obj != null) {
    obj.setmaxBufferLength(new_len);
    document.getElementById("videoStatus").innerHTML += "force max buffer len to :" + new_len + "<br />";
  }
}

function onComplete(message) {
  document.getElementById("videoStatus").innerHTML += "onComplete(), playback completed<br />";
}
function onError(message) {
  document.getElementById("videoStatus").innerHTML += "onError():"+ message + "<br />";
}

function onFragment(bandwidth,level,width) {
  document.getElementById("videoStatus").innerHTML += "onFragment(): bandwidth:" + bandwidth + " level:" + level + " width:" + width + "<br />";
}

function onManifest(message) {
  document.getElementById("videoStatus").innerHTML += "manifest loaded<br />";
}

function onPosition(position,duration) {
  document.getElementById('mediaInfo').rows[2].cells[1].innerHTML =  position.toFixed(2);
  document.getElementById('mediaInfo').rows[2].cells[2].innerHTML =  duration.toFixed(2);
  document.getElementById('mediaInfo').rows[2].cells[3].innerHTML =  getbufferLength().toFixed(2);
  document.getElementById('mediaInfo').rows[2].cells[4].innerHTML =  getMaxBufferLength().toFixed(2);
}

function onState(newState) {
  document.getElementById("videoStatus").innerHTML += "switching state to "+ newState + "<br />";
  document.getElementById('mediaInfo').rows[2].cells[0].innerHTML =  newState;
}

function onSwitch(newLevel) {
  document.getElementById("videoStatus").innerHTML += "switching level to "+ newLevel + "<br />";
  document.getElementById('mediaInfo').rows[2].cells[5].innerHTML =  newLevel;
}

function getFlashMovieObject(movieName)
{
  if (window.document[movieName])
  {
      return window.document[movieName];
  }
  if (navigator.appName.indexOf("Microsoft Internet")==-1)
  {
    if (document.embeds && document.embeds[movieName])
      return document.embeds[movieName];
  }
  else // if (navigator.appName.indexOf("Microsoft Internet")!=-1)
  {
    return document.getElementById(movieName);
  }
}
</script>
<div id="videoStatus">Video status messages<br /></div>
</body>
</html>